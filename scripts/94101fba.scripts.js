"use strict";angular.module("mpokDoroTimerApp",["ngCookies","ngResource","ngSanitize","ngRoute","LocalStorageModule","cfp.hotkeys"]).config(["localStorageServiceProvider",function(a){a.setPrefix("mpok-doro-timer")}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("mpokDoroTimerApp").controller("MainCtrl",["$scope","$interval","$window","localStorageService","hotkeys",function(a,b,c,d,e){var f=15e5,g={};!function(a){a.workInProgress=!1;var b=parseInt(d.get("pomodoro"),10);isNaN(b)?a.pomodoro=0:b>0&&(a.pomodoro=b),e.bindTo(a).add({combo:"g s",description:"Start pomodoro",callback:function(){a.start()}}).add({combo:"g b",description:"Stop pomodoro",callback:function(){a.stop()}}).add({combo:"g r",description:"Stop pomodoro",callback:function(){a.reset()}})}(a),a.start=function(){console.log("start"),a.workInProgress=!0,g=b(function(){a.pomodoro+=1,d.set("pomodoro",a.pomodoro.toString());var e=0!==a.pomodoro,f=a.pomodoro%4===0;c.alert(e&&f?"Come on take a long break for 20 minutes!":"Come on take a short break for 5 minutes!"),b.cancel(g),a.workInProgress=!1},f)},a.stop=function(){b.cancel(g),a.workInProgress=!1},a.reset=function(){d.clearAll(),a.pomodoro=0}}]);